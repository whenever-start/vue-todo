(function(t){function o(o){for(var n,i,c=o[0],a=o[1],d=o[2],l=0,f=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);u&&u(o);while(f.length)f.shift()();return s.push.apply(s,d||[]),e()}function e(){for(var t,o=0;o<s.length;o++){for(var e=s[o],n=!0,c=1;c<e.length;c++){var a=e[c];0!==r[a]&&(n=!1)}n&&(s.splice(o--,1),t=i(i.s=e[0]))}return t}var n={},r={app:0},s=[];function i(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=n,i.d=function(t,o,e){i.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,o){if(1&o&&(t=i(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)i.d(e,n,function(o){return t[o]}.bind(null,n));return e},i.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(o,"a",o),o},i.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=o,c=c.slice();for(var d=0;d<c.length;d++)o(c[d]);var u=a;s.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},2395:function(t,o,e){},"56d7":function(t,o,e){"use strict";e.r(o);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"todo",attrs:{id:"app"}},[e("TodoHeader"),e("div",{staticClass:"todo-main"},[e("todo-list",{ref:"list"})],1),e("TodoFooter")],1)},s=[],i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"todo-header"},[e("div",{staticClass:"todo-input_box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputTodo,expression:"inputTodo"}],staticClass:"todo-input",attrs:{type:"text",placeholder:"请输入你的任务名称，按回车键确认"},domProps:{value:t.inputTodo},on:{keydown:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.addTodo.apply(null,arguments)},input:function(o){o.target.composing||(t.inputTodo=o.target.value)}}})])])},c=[],a=e("5530"),d=(e("498a"),e("d3b7"),{ADD:"ADD",REMOVE:"REMOVE",CLEAR_DONE_TODOS:"CLEAR_DONE_TODOS",TOGGLE_SHOW:"TOGGLE_SHOW",STORAGE:"STORAGE"}),u=d,l=e("2f62"),f=(e("ac1f"),e("1276"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Math.floor(Math.random()*Math.pow(10,t))}),p={name:"TodoHeader",data:function(){return{inputTodo:""}},computed:Object(a["a"])({},Object(l["d"])(["todos"])),methods:Object(a["a"])(Object(a["a"])({},Object(l["c"])([u.ADD])),{},{addTodo:function(t){var o=this,e=t.target.value.trim();if(this.isInputValid(e)){var n={id:f(),text:e,done:!1,time:Date.now()};this[u.ADD](n),this.inputTodo="",this.todos.length>10&&this.$nextTick((function(){o.$parent.$refs.list.scrollToBottom()}))}},isInputValid:function(t){return""!==t&&this.todos.every((function(o){return o.text!==t}))}})},h=p,O=(e("79cb"),e("2877")),b=Object(O["a"])(h,i,c,!1,null,"a10eb62c",null),m=b.exports,v=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("ul",{ref:"todoList",staticClass:"todo-list"},t._l("all"===t.show?t.todos:"done"===t.show?t.doneTodos:t.undoneTodos,(function(o,n){return e("todo-list-item",{key:o.id,class:{active:o.done},attrs:{text:o.text,done:o.done},on:{select:function(e){return t.select(o,e)},"remove-todo":function(o){return t.removeTodo(n)}}})})),1)},T=[],g=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("li",{staticClass:"todo-list-item"},[e("div",{staticClass:"todo-checkbox"},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.done},on:{change:function(o){return t.$emit("select",o.target.checked)}}})]),e("div",{staticClass:"todo-text"},[t._v(t._s(t.text))]),e("div",{staticClass:"btn-close",on:{click:function(o){return t.$emit("remove-todo")}}},[t._v("X")])])},_=[],j={name:"TodoListItem",props:{text:{type:String,required:!0},done:{type:Boolean,default:!1}}},E=j,w=Object(O["a"])(E,g,_,!1,null,null,null),S=w.exports,y={name:"TodoList",components:{TodoListItem:S},computed:Object(a["a"])(Object(a["a"])({},Object(l["d"])(["todos","show"])),Object(l["b"])(["doneTodos","undoneTodos"])),methods:Object(a["a"])(Object(a["a"])({},Object(l["c"])([u.REMOVE,u.STORAGE])),{},{scrollToBottom:function(){this.$refs.todoList.scrollTop=this.$refs.todoList.scrollHeight},removeTodo:function(t){this[u.REMOVE](t)},select:function(t,o){t.done=o,this[u.STORAGE]()}})},x=y,k=(e("bbbe"),Object(O["a"])(x,v,T,!1,null,null,null)),A=k.exports,C=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"todo-footer"},[e("div",{staticClass:"todo-checkbox"},[e("input",{attrs:{type:"checkbox"},domProps:{checked:t.isAll},on:{change:t.toggleAll}})]),e("div",{staticClass:"todo-footer-menu"},[e("span",{staticClass:"menu-item",class:{active:"all"===t.show},on:{click:function(o){return t.toggleShow("all")}}},[t._v("全部"+t._s(t.todos.length))]),e("span",{staticClass:"menu-item",class:{active:"done"===t.show},on:{click:function(o){return t.toggleShow("done")}}},[t._v("已完成"+t._s(t.doneTodos.length))]),e("span",{staticClass:"menu-item",class:{active:"undone"===t.show},on:{click:function(o){return t.toggleShow("undone")}}},[t._v("未完成"+t._s(t.undoneTodos.length))])]),e("div",{staticClass:"btn-clear",on:{click:t.clearDoneTodos}},[t._v("清除已完成任务")])])},D=[],R=(e("159b"),{name:"TodoFooter",computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(l["d"])(["todos","show"])),Object(l["b"])(["doneTodos","undoneTodos"])),{},{isAll:function(){return 0===this.undoneTodos.length&&this.todos.length>0}}),methods:Object(a["a"])(Object(a["a"])({},Object(l["c"])({clearDoneTodos:u.CLEAR_DONE_TODOS,toggleShow:u.TOGGLE_SHOW,storage:u.STORAGE})),{},{toggleAll:function(t){var o=t.target.checked;o?this.undoneTodos.forEach((function(t){t.done=o})):this.doneTodos.forEach((function(t){t.done=o})),this.storage()}})}),G=R,L=(e("8224"),Object(O["a"])(G,C,D,!1,null,"5866dfe6",null)),$=L.exports,M={name:"App",components:{TodoHeader:m,TodoList:A,TodoFooter:$}},P=M,H=(e("7c55"),Object(O["a"])(P,r,s,!1,null,null,null)),I=H.exports,N=e("ade3"),V=(e("4de4"),e("a434"),e("e9c4"),{get:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=W(window.localStorage.getItem(t));return void 0===e?o:e},set:function(t,o){if(void 0===o)return this.remove(t);window.localStorage.setItem(t,J(o))},remove:function(t){window.localStorage.removeItem(t)},clear:function(){window.localStorage.clear()}});function J(t){return JSON.stringify(t)}function W(t){if("string"===typeof t)try{return JSON.parse(t)}catch(o){return t||void 0}}var B,F=V;n["a"].use(l["a"]);var q=new l["a"].Store({state:{todos:F.get("todo",[]),show:"all"},getters:{doneTodos:function(t){return t.todos.filter((function(t){return t.done}))},undoneTodos:function(t){return t.todos.filter((function(t){return!t.done}))}},mutations:(B={},Object(N["a"])(B,u.ADD,(function(t,o){t.todos.push(o),this.commit(u.STORAGE)})),Object(N["a"])(B,u.REMOVE,(function(t,o){t.todos.splice(o,1),this.commit(u.STORAGE)})),Object(N["a"])(B,u.CLEAR_DONE_TODOS,(function(t){t.todos=t.todos.filter((function(t){return!t.done})),this.commit(u.STORAGE)})),Object(N["a"])(B,u.TOGGLE_SHOW,(function(t,o){t.show=o})),Object(N["a"])(B,u.STORAGE,(function(t){F.set("todo",t.todos)})),B)});n["a"].config.productionTip=!1,new n["a"]({store:q,render:function(t){return t(I)}}).$mount("#app")},"79cb":function(t,o,e){"use strict";e("b8d7")},"7c55":function(t,o,e){"use strict";e("2395")},8224:function(t,o,e){"use strict";e("d0b2")},b63b:function(t,o,e){},b8d7:function(t,o,e){},bbbe:function(t,o,e){"use strict";e("b63b")},d0b2:function(t,o,e){}});
//# sourceMappingURL=app.d6c5b125.js.map